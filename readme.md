# Проект телеграмм-бот на языке Java
### Схема Базы Данных
![picture](raw/erdiagram.png)
https://dbdiagram.io/d/62696c4995e7f23c6184fe24
###
##### Инструментарий
    База Данных: Postrges 
    IDE: InteliJ IDEA
    Язык Программирования: Java 
    Версия: 17.0.2
    Frameworks: 
        Postgresql
        Lombok
        Log4j
        JUnit

##### Пользовательский интерфейс (переделать)
    Пинг
        пинг всех в чате (только для админов чата)
        пинг группы в чате (только для тех кто имеет необходимые права в группе)

    Группы
        группа (работа в лс)
            создать группу (любой - становится админом)
            переименновать группу (админ)
            удалить группу (админ)

        участники группы
            удалить участника (в лс)
            добавить участника (в лс)
            удалить всех участников из группы (в лс)
            посмотреть список участников группы (в лс)

        роли
            добавить участнику роль (в лс)
            удалить у участника роль (в лс)
            посмотреть какие роли есть у участника (в лс)


        файлы
            добавить файл с указанием категории и названием (в лс)
            переименовать файл (в лс)
            удалить файл (в лс)

            вывести файлы по категории и времени (чат и лс)

        категории файлов
            добавить категорию (в лс)
            переименовать категорию (в лс)
            удалить категорию (в лс)

##### Сущности
    Участник
        id integer [pk] 
        first_name charvarying(90) [NOT NULL]
        last_name charvarying(90)
        user_name charvarying(90)

    Чат
        id integer [pk]
        title charvarying(150) [NOT NULL]
        ping boolean [NOT NULL, DEFAULT: false]

    Группа
         id integer [pk, increment]
        title charvarying(150) [NOT NULL]

    Роль
        id integer [pk, increment]
        title charvarying(150) [NOT NULL]
        right_ping boolean [NOT NULL]
        right_edit boolean [NOT NULL]
        right_to_view boolean [NOT NULL]
        right_admin boolean [NOT NULL]

    Категория
        id integer [pk, increment]
        id_group integer [ref: > groups.id]
        title charvarying(150) [NOT NULL]

    Файл
        id integer [pk]
        id_category integer [pk, ref: > categories.id]
        title charvarying(150) [NOT NULL]
        data_create date [NOT NULL]

    Предупреждение
        id integer [pk, increment]
        id_group integer [NOT NULL, ref: > groups.id]
        id_member integer [NOT NULL, ref: > members.id]
        id_cautioning integer [NOT NULL, ref: > members.id]
        cause charvarying(150) [NOT NULL]
        date date [NOT NULL]
        deadline integer [NOT NULL]

##### Методы работы с Базой Данных - сокращено dao
    Участники (реализовано)
        создать участника - реализован принцип не повторяемости 
        изменить участника

    Чат (реализовано)
        добавить участника - реализован принцип не повторяемости
        удалить участника

        создать чат - реализован принцип не повторяемости
        изменить правило

        выдать всех участников

    Группа (реализовано)
        добавить участника (добавить стандартную роль) - реализован принцип не повторяемости
        изменить участника -изменить роль участника
        удалить участника
        удалить всех участников

        выдать список ролец

        создать группу - автоматическая очередь
        изменить группу
        удалить группу
            &удалить всех участников
            &удалить все варны
            &удалить все файлы
            &удалить все категории

        добавить варн участнику - автоматическая очередь
            *остановить варн
        удалить варн у участника
            *запустить варн
        удалить все варны у участника
        удалить все варны у участников

        запустить варн
        отключить варн

        выдать все варны

        проверить все варны
            *удалить варн

        выдать всех участников - со списком ролей и количеством варнов
        выдать всех участников группы в чате

    Файлы группы (реализовано)
        добавить файл - реализован принцип не повторяемости
        изменить файл
        удалить файл
        удалить все файлы

        добавить категорию
        изменить категорию - автоматическая очередь
        удалить категорию
        удалить все категории

        выдать все категории

        выдать все файлы с ограничением по дате
        выдать файлы категории с ограничением по дате

##### Рабочие комментарии
    функция - обрезка -100 в айдишнике
    date - null когда не работает
    одного пользователя не взять))

    по необходимости договориться об общем интрефейсе
    поставить посгрес на сервер
    
    Пользовательский интерфейс переделать

    каскадное удаление всего

    при необходимости дописать возможности получать данные

    GENERATED ALWAYS AS IDENTITY

    ON CONFLICT (id) DO NOTHING
    
     ON DELETE CASCADE
    
    